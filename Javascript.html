<script>
var currentTab = 0; 
showTab(currentTab); 




function showTab(n) {
  
  
  var x = document.getElementsByClassName("tab");
  x[n].style.display = "block";
  
  if (n == 0) {
    document.getElementById("prevBtn").style.display = "none";
  } else {
    document.getElementById("prevBtn").style.display = "inline";
  }
  if (n == (x.length - 1)) {
    document.getElementById("nextBtn").style.display = "none";
    document.getElementById("submit_button").style.display = "inline";
    displaySummery();
    
  } else {
    document.getElementById("nextBtn").innerHTML = "Next";
  }
 
 
}

 

function addQuiz(){
   
   var new_quiz= parseInt($('#total_quizes').val())+1;
      var new_input="<input type='text' placeholder = 'Enter percentage for quiz " + new_quiz + "'" + "id='new_"+new_quiz+"'>";
      $('#new_quiz').append(new_input);
      $('#total_quizes').val(new_quiz);
         
}

  function removeQuiz(){
      var last_quiz = $('#total_quizes').val();
      if(last_quiz>= 1){
        $('#new_'+last_quiz).remove();
        $('#total_quizes').val(last_quiz-1);
      }
  }






function createPercentageArrray(){

var i , x = document.getElementsByClassName("quiz_percentages");
var percentages = [];

   for(i=0; i<x.length;i++){
    percentages.push(x[i].value);
   }
   //console.log(percentages);
   
   google.script.run.getArr(percentages);
}





  



function displaySummery(){
var courseName =  document.getElementById("course_name").value;
var quizNo = document.getElementById("quiz_no").value;
var assignmentNo = document.getElementById("assignment_no").value;
var tutorialNo = document.getElementById("tutorial_no").value;
var quizPercentage = document.getElementById("quiz_percentage").value;
var assignementPercentage = document.getElementById("assignment_percentage").value;
var tutorialPerecentage = document.getElementById("tutorial_percentage").value;
var midPercentage = document.getElementById("mid_percentage").value;
var endPercentage = document.getElementById("end_percentage").value;


document.getElementById("coursename_text").innerHTML = courseName;
document.getElementById("assignmentNo").innerHTML = assignmentNo;
document.getElementById("tutorialNo").innerHTML = tutorialNo; 
document.getElementById("quizNo").innerHTML = quizNo;
document.getElementById("quiz_percentagetxt").innerHTML = quizPercentage +"%";
document.getElementById("assignment_percentagetxt").innerHTML =assignementPercentage +"%"; 
document.getElementById("tutorial_percentagetxt").innerHTML = tutorialPerecentage +"%";
document.getElementById("mid_percentagetxt").innerHTML = midPercentage +"%";
document.getElementById("end_percentagetxt").innerHTML = endPercentage +"%";
   
   
}

 
  
 function handleFormSubmit(formObject) {
    google.script.run.processForm(formObject);
    
    document.getElementById("regForm").reset();
  }


function nextPrev(n) {
  // This function will figure out which tab to display
  var x = document.getElementsByClassName("tab");

  // Hide the current tab:
  x[currentTab].style.display = "none";
  // Increase or decrease the current tab by 1:
  currentTab = currentTab + n;
  // if you have reached the end of the form... :
  if (currentTab >= x.length) {
    //...the form gets submitted:
    document.getElementById("regForm").submit();
    return false;
  }
  // Otherwise, display the correct tab:
  showTab(currentTab);
}






</script>